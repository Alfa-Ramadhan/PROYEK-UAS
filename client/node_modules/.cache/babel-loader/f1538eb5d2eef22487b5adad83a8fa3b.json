{"ast":null,"code":"import { GET_MOVIES, SELECT_MOVIE, GET_SUGGESTIONS } from '../types';\nconst initialState = {\n  movies: [],\n  randomMovie: null,\n  latestMovies: [],\n  nowShowing: [],\n  comingSoon: [],\n  selectedMovie: null,\n  suggested: []\n};\nconst getMovies = (state, payload) => {\n  const latestMovies = payload.sort((a, b) => Date.parse(b.releaseDate) - Date.parse(a.releaseDate)).slice(0, 5);\n  const nowShowing = payload.filter(movie => new Date(movie.endDate) >= new Date() && new Date(movie.releaseDate) < new Date());\n  const comingSoon = payload.filter(movie => new Date(movie.releaseDate) > new Date());\n  return {\n    ...state,\n    movies: payload,\n    randomMovie: payload[Math.floor(Math.random() * payload.length)],\n    latestMovies,\n    nowShowing,\n    comingSoon\n  };\n};\nconst onSelectMovie = (state, payload) => ({\n  ...state,\n  selectedMovie: payload\n});\nconst getMovieSuggestions = (state, payload) => ({\n  ...state,\n  suggested: payload\n});\nexport default (state = initialState, action) => {\n  const {\n    type,\n    payload\n  } = action;\n  switch (type) {\n    case GET_MOVIES:\n      return getMovies(state, payload);\n    case SELECT_MOVIE:\n      return onSelectMovie(state, payload);\n    case GET_SUGGESTIONS:\n      return getMovieSuggestions(state, payload);\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["GET_MOVIES","SELECT_MOVIE","GET_SUGGESTIONS","initialState","movies","randomMovie","latestMovies","nowShowing","comingSoon","selectedMovie","suggested","getMovies","state","payload","sort","a","b","Date","parse","releaseDate","slice","filter","movie","endDate","Math","floor","random","length","onSelectMovie","getMovieSuggestions","action","type"],"sources":["C:/Kuliah/Semester 6/Topik Khusus/MovieStore/client/src/store/reducers/movies.js"],"sourcesContent":["import { GET_MOVIES, SELECT_MOVIE,GET_SUGGESTIONS } from '../types';\r\n\r\nconst initialState = {\r\n  movies: [],\r\n  randomMovie: null,\r\n  latestMovies: [],\r\n  nowShowing: [],\r\n  comingSoon: [],\r\n  selectedMovie: null,\r\n  suggested:[]\r\n};\r\n\r\nconst getMovies = (state, payload) => {\r\n  const latestMovies = payload\r\n    .sort((a, b) => Date.parse(b.releaseDate) - Date.parse(a.releaseDate))\r\n    .slice(0, 5);\r\n\r\n  const nowShowing = payload.filter(\r\n    movie =>\r\n      new Date(movie.endDate) >= new Date() &&\r\n      new Date(movie.releaseDate) < new Date()\r\n  );\r\n\r\n  const comingSoon = payload.filter(\r\n    movie => new Date(movie.releaseDate) > new Date()\r\n  );\r\n\r\n  return {\r\n    ...state,\r\n    movies: payload,\r\n    randomMovie: payload[Math.floor(Math.random() * payload.length)],\r\n    latestMovies,\r\n    nowShowing,\r\n    comingSoon\r\n  };\r\n};\r\n\r\nconst onSelectMovie = (state, payload) => ({\r\n  ...state,\r\n  selectedMovie: payload\r\n});\r\n\r\nconst getMovieSuggestions = (state, payload) =>({\r\n  ...state,\r\n  suggested: payload\r\n})\r\n\r\nexport default (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case GET_MOVIES:\r\n      return getMovies(state, payload);\r\n    case SELECT_MOVIE:\r\n      return onSelectMovie(state, payload);\r\n    case GET_SUGGESTIONS:\r\n      return getMovieSuggestions(state, payload);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n"],"mappings":"AAAA,SAASA,UAAU,EAAEC,YAAY,EAACC,eAAe,QAAQ,UAAU;AAEnE,MAAMC,YAAY,GAAG;EACnBC,MAAM,EAAE,EAAE;EACVC,WAAW,EAAE,IAAI;EACjBC,YAAY,EAAE,EAAE;EAChBC,UAAU,EAAE,EAAE;EACdC,UAAU,EAAE,EAAE;EACdC,aAAa,EAAE,IAAI;EACnBC,SAAS,EAAC;AACZ,CAAC;AAED,MAAMC,SAAS,GAAGA,CAACC,KAAK,EAAEC,OAAO,KAAK;EACpC,MAAMP,YAAY,GAAGO,OAAO,CACzBC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKC,IAAI,CAACC,KAAK,CAACF,CAAC,CAACG,WAAW,CAAC,GAAGF,IAAI,CAACC,KAAK,CAACH,CAAC,CAACI,WAAW,CAAC,CAAC,CACrEC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;EAEd,MAAMb,UAAU,GAAGM,OAAO,CAACQ,MAAM,CAC/BC,KAAK,IACH,IAAIL,IAAI,CAACK,KAAK,CAACC,OAAO,CAAC,IAAI,IAAIN,IAAI,CAAC,CAAC,IACrC,IAAIA,IAAI,CAACK,KAAK,CAACH,WAAW,CAAC,GAAG,IAAIF,IAAI,CAAC,CAC3C,CAAC;EAED,MAAMT,UAAU,GAAGK,OAAO,CAACQ,MAAM,CAC/BC,KAAK,IAAI,IAAIL,IAAI,CAACK,KAAK,CAACH,WAAW,CAAC,GAAG,IAAIF,IAAI,CAAC,CAClD,CAAC;EAED,OAAO;IACL,GAAGL,KAAK;IACRR,MAAM,EAAES,OAAO;IACfR,WAAW,EAAEQ,OAAO,CAACW,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGb,OAAO,CAACc,MAAM,CAAC,CAAC;IAChErB,YAAY;IACZC,UAAU;IACVC;EACF,CAAC;AACH,CAAC;AAED,MAAMoB,aAAa,GAAGA,CAAChB,KAAK,EAAEC,OAAO,MAAM;EACzC,GAAGD,KAAK;EACRH,aAAa,EAAEI;AACjB,CAAC,CAAC;AAEF,MAAMgB,mBAAmB,GAAGA,CAACjB,KAAK,EAAEC,OAAO,MAAK;EAC9C,GAAGD,KAAK;EACRF,SAAS,EAAEG;AACb,CAAC,CAAC;AAEF,eAAe,CAACD,KAAK,GAAGT,YAAY,EAAE2B,MAAM,KAAK;EAC/C,MAAM;IAAEC,IAAI;IAAElB;EAAQ,CAAC,GAAGiB,MAAM;EAEhC,QAAQC,IAAI;IACV,KAAK/B,UAAU;MACb,OAAOW,SAAS,CAACC,KAAK,EAAEC,OAAO,CAAC;IAClC,KAAKZ,YAAY;MACf,OAAO2B,aAAa,CAAChB,KAAK,EAAEC,OAAO,CAAC;IACtC,KAAKX,eAAe;MAClB,OAAO2B,mBAAmB,CAACjB,KAAK,EAAEC,OAAO,CAAC;IAC5C;MACE,OAAOD,KAAK;EAChB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}