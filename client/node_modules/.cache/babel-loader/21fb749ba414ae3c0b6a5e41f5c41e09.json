{"ast":null,"code":"export const addReservation = reservation => async dispatch => {\n  try {\n    const token = localStorage.getItem('jwtToken');\n    const url = '/reservations';\n    const response = await fetch(url, {\n      method: 'POST',\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(reservation)\n    });\n    const resData = await response.json();\n    if (response.ok) {\n      const {\n        reservation,\n        QRCode\n      } = resData;\n      dispatch(setAlert('Reservation Created', 'success', 5000));\n      return {\n        status: 'success',\n        message: 'Reservation Created',\n        data: {\n          reservation,\n          QRCode\n        }\n      };\n    } else {\n      dispatch(setAlert(resData.message || 'Gagal membuat reservasi', 'error', 5000));\n      return {\n        status: 'error',\n        message: resData.message || 'Gagal membuat reservasi'\n      };\n    }\n  } catch (error) {\n    dispatch(setAlert(error.message || 'Terjadi kesalahan sistem', 'error', 5000));\n    return {\n      status: 'error',\n      message: error.message || 'Terjadi kesalahan sistem, coba lagi.'\n    };\n  }\n};","map":{"version":3,"names":["addReservation","reservation","dispatch","token","localStorage","getItem","url","response","fetch","method","headers","Authorization","body","JSON","stringify","resData","json","ok","QRCode","setAlert","status","message","data","error"],"sources":["C:/Kuliah/Semester 6/Topik Khusus/MovieStore/client/src/store/actions/reservations.js"],"sourcesContent":["export const addReservation = reservation => async dispatch => {\r\n  try {\r\n    const token = localStorage.getItem('jwtToken');\r\n    const url = '/reservations';\r\n\r\n    const response = await fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(reservation)\r\n    });\r\n\r\n    const resData = await response.json();\r\n\r\n    if (response.ok) {\r\n      const { reservation, QRCode } = resData;\r\n      dispatch(setAlert('Reservation Created', 'success', 5000));\r\n      return {\r\n        status: 'success',\r\n        message: 'Reservation Created',\r\n        data: { reservation, QRCode }\r\n      };\r\n    } else {\r\n      dispatch(setAlert(resData.message || 'Gagal membuat reservasi', 'error', 5000));\r\n      return {\r\n        status: 'error',\r\n        message: resData.message || 'Gagal membuat reservasi'\r\n      };\r\n    }\r\n  } catch (error) {\r\n    dispatch(setAlert(error.message || 'Terjadi kesalahan sistem', 'error', 5000));\r\n    return {\r\n      status: 'error',\r\n      message: error.message || 'Terjadi kesalahan sistem, coba lagi.'\r\n    };\r\n  }\r\n};\r\n"],"mappings":"AAAA,OAAO,MAAMA,cAAc,GAAGC,WAAW,IAAI,MAAMC,QAAQ,IAAI;EAC7D,IAAI;IACF,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;IAC9C,MAAMC,GAAG,GAAG,eAAe;IAE3B,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAG,EAAE;MAChCG,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACPC,aAAa,EAAE,UAAUR,KAAK,EAAE;QAChC,cAAc,EAAE;MAClB,CAAC;MACDS,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACb,WAAW;IAClC,CAAC,CAAC;IAEF,MAAMc,OAAO,GAAG,MAAMR,QAAQ,CAACS,IAAI,CAAC,CAAC;IAErC,IAAIT,QAAQ,CAACU,EAAE,EAAE;MACf,MAAM;QAAEhB,WAAW;QAAEiB;MAAO,CAAC,GAAGH,OAAO;MACvCb,QAAQ,CAACiB,QAAQ,CAAC,qBAAqB,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;MAC1D,OAAO;QACLC,MAAM,EAAE,SAAS;QACjBC,OAAO,EAAE,qBAAqB;QAC9BC,IAAI,EAAE;UAAErB,WAAW;UAAEiB;QAAO;MAC9B,CAAC;IACH,CAAC,MAAM;MACLhB,QAAQ,CAACiB,QAAQ,CAACJ,OAAO,CAACM,OAAO,IAAI,yBAAyB,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;MAC/E,OAAO;QACLD,MAAM,EAAE,OAAO;QACfC,OAAO,EAAEN,OAAO,CAACM,OAAO,IAAI;MAC9B,CAAC;IACH;EACF,CAAC,CAAC,OAAOE,KAAK,EAAE;IACdrB,QAAQ,CAACiB,QAAQ,CAACI,KAAK,CAACF,OAAO,IAAI,0BAA0B,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;IAC9E,OAAO;MACLD,MAAM,EAAE,OAAO;MACfC,OAAO,EAAEE,KAAK,CAACF,OAAO,IAAI;IAC5B,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}